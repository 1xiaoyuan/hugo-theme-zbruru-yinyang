<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>webpack安装配置指令 | 不如吃茶去</title><meta name=keywords content="工具,webpack"><meta name=description content="进行重新加载编译。实际就是将浏览器不认识的语法编译成浏览器认识的语法。比如less编译成css，ES6 语法 转成 ES5等等。
减少io请求,通常我们在请求后，会返回一个html到浏览器。这时，我们如果打开控制台，就会发现在html页面通过script,link等标签引用的静态资源， 浏览器会再次发出请求去获取这些资源。但是webpack的打包，将所有的静态资源都合并好了，减少了io请求。
# 安装webpack npm install --save-dev webpack # 安装webpack-cli依赖 npm install --save-dev webpack-cli # 创建新项目 mkdir demo # cd项目 cd demo # 初始化 npm init -y # 安装开发版本cli npm install webpack webpack-cli --save-dev 新建一个html文件和一个js文件，工程目录如下
demo |- package.json + |- index.html + |- /src + |- index.js src/index.js:
function component() { var element = document.createElement('div'); // Lodash（目前通过一个 script 脚本引入）对于执行这一行是必需的 element.innerHTML = _.join(['Hello', 'webpack'], ' '); return element; } document."><meta name=author content="Me"><link rel=canonical href=https://zburu-hugo.vercel.app/posts/20201126/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.ba440c9e3234243e74b01a794e5be1e5ed2ea2b1b088b818edcb1bc5edd382fa.css integrity="sha256-ukQMnjI0JD50sBp5Tlvh5e0uorGwiLgY7csbxe3Tgvo=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://img.zburu.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://img.zburu.com/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://img.zburu.com/favicon.ico><link rel=apple-touch-icon href=https://img.zburu.com/favicon.ico><link rel=mask-icon href=https://img.zburu.com/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="webpack安装配置指令"><meta property="og:description" content="进行重新加载编译。实际就是将浏览器不认识的语法编译成浏览器认识的语法。比如less编译成css，ES6 语法 转成 ES5等等。
减少io请求,通常我们在请求后，会返回一个html到浏览器。这时，我们如果打开控制台，就会发现在html页面通过script,link等标签引用的静态资源， 浏览器会再次发出请求去获取这些资源。但是webpack的打包，将所有的静态资源都合并好了，减少了io请求。
# 安装webpack npm install --save-dev webpack # 安装webpack-cli依赖 npm install --save-dev webpack-cli # 创建新项目 mkdir demo # cd项目 cd demo # 初始化 npm init -y # 安装开发版本cli npm install webpack webpack-cli --save-dev 新建一个html文件和一个js文件，工程目录如下
demo |- package.json + |- index.html + |- /src + |- index.js src/index.js:
function component() { var element = document.createElement('div'); // Lodash（目前通过一个 script 脚本引入）对于执行这一行是必需的 element.innerHTML = _.join(['Hello', 'webpack'], ' '); return element; } document."><meta property="og:type" content="article"><meta property="og:url" content="https://zburu-hugo.vercel.app/posts/20201126/"><meta property="og:image" content="https://zburu-hugo.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-11-26T13:08:00+00:00"><meta property="article:modified_time" content="2020-11-26T13:08:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://zburu-hugo.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="webpack安装配置指令"><meta name=twitter:description content="进行重新加载编译。实际就是将浏览器不认识的语法编译成浏览器认识的语法。比如less编译成css，ES6 语法 转成 ES5等等。
减少io请求,通常我们在请求后，会返回一个html到浏览器。这时，我们如果打开控制台，就会发现在html页面通过script,link等标签引用的静态资源， 浏览器会再次发出请求去获取这些资源。但是webpack的打包，将所有的静态资源都合并好了，减少了io请求。
# 安装webpack npm install --save-dev webpack # 安装webpack-cli依赖 npm install --save-dev webpack-cli # 创建新项目 mkdir demo # cd项目 cd demo # 初始化 npm init -y # 安装开发版本cli npm install webpack webpack-cli --save-dev 新建一个html文件和一个js文件，工程目录如下
demo |- package.json + |- index.html + |- /src + |- index.js src/index.js:
function component() { var element = document.createElement('div'); // Lodash（目前通过一个 script 脚本引入）对于执行这一行是必需的 element.innerHTML = _.join(['Hello', 'webpack'], ' '); return element; } document."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://zburu-hugo.vercel.app/posts/"},{"@type":"ListItem","position":3,"name":"webpack安装配置指令","item":"https://zburu-hugo.vercel.app/posts/20201126/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"webpack安装配置指令","name":"webpack安装配置指令","description":"进行重新加载编译。实际就是将浏览器不认识的语法编译成浏览器认识的语法。比如less编译成css，ES6 语法 转成 ES5等等。\n减少io请求,通常我们在请求后，会返回一个html到浏览器。这时，我们如果打开控制台，就会发现在html页面通过script,link等标签引用的静态资源， 浏览器会再次发出请求去获取这些资源。但是webpack的打包，将所有的静态资源都合并好了，减少了io请求。\n# 安装webpack npm install --save-dev webpack # 安装webpack-cli依赖 npm install --save-dev webpack-cli # 创建新项目 mkdir demo # cd项目 cd demo # 初始化 npm init -y # 安装开发版本cli npm install webpack webpack-cli --save-dev 新建一个html文件和一个js文件，工程目录如下\ndemo |- package.json + |- index.html + |- /src + |- index.js src/index.js:\nfunction component() { var element = document.createElement(\u0026#39;div\u0026#39;); // Lodash（目前通过一个 script 脚本引入）对于执行这一行是必需的 element.innerHTML = _.join([\u0026#39;Hello\u0026#39;, \u0026#39;webpack\u0026#39;], \u0026#39; \u0026#39;); return element; } document.","keywords":["工具","webpack"],"articleBody":"进行重新加载编译。实际就是将浏览器不认识的语法编译成浏览器认识的语法。比如less编译成css，ES6 语法 转成 ES5等等。\n减少io请求,通常我们在请求后，会返回一个html到浏览器。这时，我们如果打开控制台，就会发现在html页面通过script,link等标签引用的静态资源， 浏览器会再次发出请求去获取这些资源。但是webpack的打包，将所有的静态资源都合并好了，减少了io请求。\n# 安装webpack npm install --save-dev webpack # 安装webpack-cli依赖 npm install --save-dev webpack-cli # 创建新项目 mkdir demo # cd项目 cd demo # 初始化 npm init -y # 安装开发版本cli npm install webpack webpack-cli --save-dev 新建一个html文件和一个js文件，工程目录如下\ndemo |- package.json + |- index.html + |- /src + |- index.js src/index.js:\nfunction component() { var element = document.createElement('div'); // Lodash（目前通过一个 script 脚本引入）对于执行这一行是必需的 element.innerHTML = _.join(['Hello', 'webpack'], ' '); return element; } document.body.appendChild(component()); index.html:\n\u003c!doctype html\u003e \u003chtml\u003e \u003chead\u003e \u003ctitle\u003e起步\u003c/title\u003e \u003cscript src=\"https://unpkg.com/lodash@4.16.6\"\u003e\u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cscript src=\"./src/index.js\"\u003e\u003c/script\u003e \u003c/body\u003e \u003c/html\u003e 在package.json中：\n删除\"main\": \"index.js\",添加\"private\": true\n调整工程目录：\ndemo\r|- package.json\r+ |- /dist\r+ |- index.html\r- |- index.html\r|- /src\r|- index.js 要在index.js中打包lodash依赖，我们需要在本地安装 library，终端输入指令：\nnpm install --save lodash 然后调整index.js内容\n// 添加一行代码 import _ from 'lodash'; 在dist/index.html中可以把引入的外部文件lodash删去\n删去\n添加\n执行终端：\nnpx webpack 即可在dist中打包生成需要的main.js文件\n还可以手动配置文件，在根目录下新建一个webpack.config.js文件\nconst path = require('path'); module.exports = { // 这里放着需要打包的文件，如果多个文件，用数组形式写 entry: './src/index.js', output: { // 这里是打包生成的文件名，还可以手动修改 filename: 'bundle.js', path: path.resolve(__dirname, 'dist') } }; 考虑到用 CLI 这种方式来运行本地的 webpack 不是特别方便，我们可以设置一个快捷方式，\n在package.json中的\"scripts\"新增\n\"build\": \"webpack\" 这样就可以使用npm run build指令代替之前的npx了\n把之前dist文件夹里面的js文件删去，然后重新打包\nnpm run build 看一下工程目录\ndemo |- package.json |- webpack.config.js |- /dist |- bundle.js |- index.html |- /src |- index.js |- /node_modules 没问题，成功打包，浏览器也正常显示\n在js文件中import了一个css文件，需要在配置中安装并添加style-loaader和css-loader\nnpm install --save-dev style-loader css-loader webpack.config.js:\nconst path = require('path'); module.exports = { entry: './src/index.js', output: { filename: 'bundle.js', path: path.resolve(__dirname, 'dist') }, // 添加的内容 module: { rules: [ { test: /\\.css$/, use: [ 'style-loader', 'css-loader' ] } ] } }; 然后在js模块中：\nimport './style.css' npm run build就可以自动解析打包啦\n加载图片\n下载安装file-loader\nnpm install --save-dev file-loader webpack.config.js:\nmodule: { rules: [ { test: /\\.css$/, use: [ 'style-loader', 'css-loader' ] },{ test: /\\.(png|svg|jpg|gif)$/, use: [ 'file-loader' ] } ] } 加载字体\nwebpack加载字体资源\n记载数据资源\n此外，可加载的有用资源还有数据，json文件，CSV，TSV，XML等，实际上，json是内置的，可以直接import data from './data.json'引入\n但是CSV，TSV，XML不可以，需要配置一下依赖\n终端下载安装：\nnpm install --save-dev csv-loader xml-loader webpack.config.js:\n{ test: /\\.(csv|tsv)$/, use: [ 'csv-loader' ] }, { test: /\\.xml$/, use: [ 'xml-loader' ] } 在src目录下添加一个json文件data.json\n然后在index.js中引入：\nimport data from './data.json' ","wordCount":"301","inLanguage":"en","datePublished":"2020-11-26T13:08:00Z","dateModified":"2020-11-26T13:08:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zburu-hugo.vercel.app/posts/20201126/"},"publisher":{"@type":"Organization","name":"不如吃茶去","logo":{"@type":"ImageObject","url":"https://img.zburu.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zburu-hugo.vercel.app accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zburu-hugo.vercel.app/posts title=posts><span>posts</span></a></li><li><a href=https://zburu-hugo.vercel.app/categories title=categories><span>categories</span></a></li><li><a href=https://zburu-hugo.vercel.app/tags title=tags><span>tags</span></a></li><li><a href=https://zburu-hugo.vercel.app/search title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://zburu-hugo.vercel.app/about title=about><span>about</span></a></li><li><a href=https://github.com/zburu title=github><span>github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zburu-hugo.vercel.app>Home</a>&nbsp;»&nbsp;<a href=https://zburu-hugo.vercel.app/posts/>Posts</a></div><h1 class=post-title>webpack安装配置指令</h1><div class=post-meta><span title='2020-11-26 13:08:00 +0000 UTC'>November 26, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;301 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/zburu/hugo-blog/blob/main/content/posts/20201126.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=post-content><p>进行重新加载编译。实际就是将浏览器不认识的语法编译成浏览器认识的语法。比如less编译成css，ES6 语法 转成 ES5等等。</p><p>减少io请求,通常我们在请求后，会返回一个html到浏览器。这时，我们如果打开控制台，就会发现在html页面通过script,link等标签引用的静态资源， 浏览器会再次发出请求去获取这些资源。但是webpack的打包，将所有的静态资源都合并好了，减少了io请求。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 安装webpack</span>
</span></span><span class=line><span class=cl>npm install --save-dev webpack
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 安装webpack-cli依赖</span>
</span></span><span class=line><span class=cl>npm install --save-dev webpack-cli
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 创建新项目</span>
</span></span><span class=line><span class=cl>mkdir demo
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># cd项目</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> demo
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 初始化</span>
</span></span><span class=line><span class=cl>npm init -y
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 安装开发版本cli</span>
</span></span><span class=line><span class=cl>npm install webpack webpack-cli --save-dev
</span></span></code></pre></div><p>新建一个html文件和一个js文件，工程目录如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>  demo
</span></span><span class=line><span class=cl>  <span class=p>|</span>- package.json
</span></span><span class=line><span class=cl>+ <span class=p>|</span>- index.html
</span></span><span class=line><span class=cl>+ <span class=p>|</span>- /src
</span></span><span class=line><span class=cl>+   <span class=p>|</span>- index.js
</span></span></code></pre></div><p>src/index.js:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>component</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>element</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s1>&#39;div&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Lodash（目前通过一个 script 脚本引入）对于执行这一行是必需的
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>element</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=nx>_</span><span class=p>.</span><span class=nx>join</span><span class=p>([</span><span class=s1>&#39;Hello&#39;</span><span class=p>,</span> <span class=s1>&#39;webpack&#39;</span><span class=p>],</span> <span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>element</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>component</span><span class=p>());</span>
</span></span></code></pre></div><p>index.html:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!doctype html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>起步<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://unpkg.com/lodash@4.16.6&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;./src/index.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>在package.json中：</p><p>删除<code>"main": "index.js"</code>,添加<code>"private": true</code></p><p>调整工程目录：</p><pre tabindex=0><code>  demo
  |- package.json
+ |- /dist
+   |- index.html
- |- index.html
  |- /src
    |- index.js
</code></pre><p>要在<code>index.js</code>中打包<code>lodash</code>依赖，我们需要在本地安装 library，终端输入指令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm install --save lodash
</span></span></code></pre></div><p>然后调整<code>index.js</code>内容</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 添加一行代码
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>_</span> <span class=nx>from</span> <span class=s1>&#39;lodash&#39;</span><span class=p>;</span>
</span></span></code></pre></div><p>在<code>dist/index.html</code>中可以把引入的外部文件<code>lodash</code>删去</p><p>删去<code>&lt;script src="./src/index.js">&lt;/script></code></p><p>添加<code>&lt;script src="main.js">&lt;/script></code></p><p>执行终端：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npx webpack
</span></span></code></pre></div><p>即可在<code>dist</code>中打包生成需要的<code>main.js</code>文件</p><p>还可以手动配置文件，在根目录下新建一个<code>webpack.config.js</code>文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>path</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 这里放着需要打包的文件，如果多个文件，用数组形式写
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>entry</span><span class=o>:</span> <span class=s1>&#39;./src/index.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 这里是打包生成的文件名，还可以手动修改
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;bundle.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;dist&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><p>考虑到用 CLI 这种方式来运行本地的 webpack 不是特别方便，我们可以设置一个快捷方式，</p><p>在<code>package.json</code>中的<code>"scripts"</code>新增</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=s2>&#34;build&#34;</span><span class=o>:</span> <span class=s2>&#34;webpack&#34;</span>
</span></span></code></pre></div><p>这样就可以使用<code>npm run build</code>指令代替之前的<code>npx</code>了</p><p>把之前<code>dist</code>文件夹里面的<code>js文件</code>删去，然后重新打包</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm run build
</span></span></code></pre></div><p>看一下工程目录</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>demo</span>
</span></span><span class=line><span class=cl><span class=o>|-</span> <span class=kr>package</span><span class=p>.</span><span class=nx>json</span>
</span></span><span class=line><span class=cl><span class=o>|-</span> <span class=nx>webpack</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>js</span>
</span></span><span class=line><span class=cl><span class=o>|-</span> <span class=err>/dist</span>
</span></span><span class=line><span class=cl>  <span class=o>|-</span> <span class=nx>bundle</span><span class=p>.</span><span class=nx>js</span>
</span></span><span class=line><span class=cl>  <span class=o>|-</span> <span class=nx>index</span><span class=p>.</span><span class=nx>html</span>
</span></span><span class=line><span class=cl><span class=o>|-</span> <span class=err>/src</span>
</span></span><span class=line><span class=cl>  <span class=o>|-</span> <span class=nx>index</span><span class=p>.</span><span class=nx>js</span>
</span></span><span class=line><span class=cl><span class=o>|-</span> <span class=err>/node_modules</span>
</span></span></code></pre></div><p>没问题，成功打包，浏览器也正常显示</p><p><strong>在js文件中<code>import</code>了一个css文件，需要在配置中安装并添加<code>style-loaader</code>和<code>css-loader</code></strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm install --save-dev style-loader css-loader
</span></span></code></pre></div><p>webpack.config.js:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>path</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>entry</span><span class=o>:</span> <span class=s1>&#39;./src/index.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;bundle.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;dist&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 添加的内容
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>rules</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.css$/</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>use</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=s1>&#39;style-loader&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s1>&#39;css-loader&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><p>然后在js模块中：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=s1>&#39;./style.css&#39;</span>
</span></span></code></pre></div><p><code>npm run build</code>就可以自动解析打包啦</p><p><strong>加载图片</strong></p><p>下载安装<code>file-loader</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm install --save-dev file-loader
</span></span></code></pre></div><p>webpack.config.js:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>rules</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.css$/</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>use</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=s1>&#39;style-loader&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s1>&#39;css-loader&#39;</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>},{</span>
</span></span><span class=line><span class=cl>        <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.(png|svg|jpg|gif)$/</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>use</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=s1>&#39;file-loader&#39;</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><strong>加载字体</strong></p><p><a href=https://www.webpackjs.com/guides/asset-management/#%E5%8A%A0%E8%BD%BD%E5%AD%97%E4%BD%93>webpack加载字体资源</a></p><p><strong>记载数据资源</strong></p><p>此外，可加载的有用资源还有数据，<code>json文件</code>，<code>CSV</code>，<code>TSV</code>，<code>XML</code>等，实际上，<code>json</code>是内置的，可以直接<code>import data from './data.json'</code>引入</p><p>但是<code>CSV</code>，<code>TSV</code>，<code>XML</code>不可以，需要配置一下依赖</p><p>终端下载安装：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm install --save-dev csv-loader xml-loader
</span></span></code></pre></div><p>webpack.config.js:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.(csv|tsv)$/</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>use</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;csv-loader&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.xml$/</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>use</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;xml-loader&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>在<code>src</code>目录下添加一个json文件<code>data.json</code></p><p>然后在<code>index.js</code>中引入：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=nx>data</span> <span class=nx>from</span> <span class=s1>&#39;./data.json&#39;</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://zburu-hugo.vercel.app/tags/%E5%B7%A5%E5%85%B7/>工具</a></li><li><a href=https://zburu-hugo.vercel.app/tags/webpack/>webpack</a></li></ul><nav class=paginav><a class=prev href=https://zburu-hugo.vercel.app/posts/20201127/><span class=title>« Prev</span><br><span>关于react的一份学习计划</span></a>
<a class=next href=https://zburu-hugo.vercel.app/posts/20201125/><span class=title>Next »</span><br><span>vue学习笔记(3)－－computed, watch，calss, style</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://zburu-hugo.vercel.app>不如吃茶去</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>