<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>博客 | 子舒的博客</title><meta name=keywords content><meta name=description content="子舒的博客"><meta name=author content="Me"><link rel=canonical href=https://zburu.vercel.app/tags/%E5%8D%9A%E5%AE%A2/><link crossorigin=anonymous href=/assets/css/stylesheet.c266585e349dd9ce670351e0239f03ee0ebc4ca57cc47e0fd0d98f00e50aee7e.css integrity="sha256-wmZYXjSd2c5nA1HgI58D7g68TKV8xH4P0NmPAOUK7n4=" rel="preload stylesheet" as=style><link rel=icon href=https://zburu.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://zburu.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://zburu.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://zburu.vercel.app/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://zburu.vercel.app/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zburu.vercel.app/tags/%E5%8D%9A%E5%AE%A2/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="博客"><meta property="og:description" content="子舒的博客"><meta property="og:type" content="website"><meta property="og:url" content="https://zburu.vercel.app/tags/%E5%8D%9A%E5%AE%A2/"><meta property="og:image" content="https://zburu.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="子舒的博客"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://zburu.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="博客"><meta name=twitter:description content="子舒的博客"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zburu.vercel.app accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zburu.vercel.app/categories/ title=categories><span>categories</span></a></li><li><a href=https://zburu.vercel.app/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://zburu.vercel.app>Home</a>&nbsp;»&nbsp;<a href=https://zburu.vercel.app/tags/>Tags</a></div><h1>博客
<a href=index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>typecho 评论回复艾特评论人</h2></header><div class=entry-content><p>typecho 在评论时默认是没有 @ 评论人的功能，可以用代码加一下。
在 functions.php 中：
/* * 评论回复时 @ 评论人 */ function get_comment_at($coid) { $db = Typecho_Db::get(); $prow = $db->fetchRow($db->select('parent,status')->from('table.comments') ->where('coid = ?', $coid)); $mail = ""; $parent = @$prow['parent']; if ($parent != "0") { $arow = $db->fetchRow($db->select('author,status,mail')->from('table.comments') ->where('coid = ?', $parent)); @$author = @$arow['author']; $mail = @$arow['mail']; if(@$author && $arow['status'] == "approved"){ if (@$prow['status'] == "waiting"){ echo '&lt;p class="commentReview">（评论审核中）)&lt;/p>'; } echo '&lt;a href="#comment-' . $parent . '">@' ....</p></div><footer class=entry-footer><span title='2022-06-07 10:35:00 +0000 UTC'>June 7, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;115 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to typecho 评论回复艾特评论人" href=https://zburu.vercel.app/posts/132.html/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>浏览器收藏夹一键填写博客评论信息</h2></header><div class=entry-content><p>先点击收藏一个页面，然后右键它，选择修改，在网址输入框复制下面的js代码，就可以一键填入了。
将其中的昵称，邮箱，网址修改成自己的信息。
目前支持绝大多数主流博客平台和系统，如果发现没有起作用，可以在下面代码里面修改增加一下input的属性。
如果你不会修改的话，可以在评论区留言没有起作用的网站，我可以更新代码。
javascript:void function(){var lauthor=["#author","input[name='comname']","#inpName","input[name='author']","#ds-dialog-name","input[name='wc_name']", "input[name='nick']",],lmail=["#mail","#email","input[name='commail']","#inpEmail","input[name='email']","#ds-dialog-email","input[name='wc_email']","input[name='mail']",],lurl=["#url","input[name='comurl']","#inpHomePage","#ds-dialog-url","input[name='url']","input[name='wc_website']","input[name='link']",];for(i=0;i&lt;lauthor.length;i++){var author=document.querySelector(lauthor[i]);if(author!=null){author.value='子舒';break}}for(j=0;j&lt;lmail.length;j++){var mail=document.querySelector(lmail[j]);if(mail!=null){mail.value='shuxhan@163.com';break}}for(k=0;k&lt;lurl.length;k++){var url=document.querySelector(lurl[k]);if(url!=null){url.value='https://imhan.cn';break}}return!1}()</p></div><footer class=entry-footer><span title='2022-04-26 14:08:00 +0000 UTC'>April 26, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;11 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 浏览器收藏夹一键填写博客评论信息" href=https://zburu.vercel.app/posts/120.html/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>增加了站内搜索功能</h2></header><div class=entry-content><p>如题，我花了一个多小时，参照nuxt文档，把搜索功能给加上了，url地址 /search ，记录一下相关代码。
可以选择放在 components/&lt;Search /> 里面，然后引入到 head 模板，也可以单独创建一个页面，我选择的是后者。
新建一个页面模板 /pages/search.vue 。
&lt;template> &lt;div> &lt;HeaderMe /> &lt;div class="wrapper"> &lt;PageSidebar /> &lt;div class="archive"> &lt;h2>{{ article.attributes.title }}&lt;/h2> &lt;div class="article-content markdown-body" v-html="article.html">&lt;/div> &lt;div class="search"> &lt;input v-model="searchQuery" type="search" autocomplete="off" placeholder="文章关键词" /> &lt;ul v-if="articles.length"> &lt;li v-for="article of articles" :key="article.slug"> &lt;NuxtLink :to="article.path+'/'">{{ article.title }}&lt;/NuxtLink> &lt;!-- 在url地址后加一个/，配置全站的url格式，防止错乱 --> &lt;/li> &lt;/ul> &lt;/div> &lt;/div> &lt;/div> &lt;/div> &lt;/template> &lt;script> import HeaderMe from "@/components/HeaderMe"; import PageSidebar from '@/components/PageSidebar'; export default { components: { HeaderMe, PageSidebar }, data () { return { searchQuery: '', articles: [] } }, async asyncData () { // 调用 search....</p></div><footer class=entry-footer><span title='2022-03-25 11:43:00 +0000 UTC'>March 25, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;253 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 增加了站内搜索功能" href=https://zburu.vercel.app/posts/110.html/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>“不如吃茶去”</h2></header><div class=entry-content><p>想了很久，也算是结合自己的心境吧，打算正式起一个博客名称，以前子舒的博客，也就是挂着自己的名字，总觉得差点意思。所以现在决定更名为 ‘不如吃茶去’。其中含义，听我娓娓道来…
我是从中学开始接触音乐的，当时喜欢唱歌，会听很多当时流行的歌曲。那时候比较火的最多的还是周杰伦的歌，还有就是林俊杰等歌手。
然后再到初入高中，准确的说应该是初三，开始听许嵩的歌，最开始是《自定义》专辑，每天都听，节奏很有旋律感。为此还专门买了一个mp4，带着一块小屏幕的那种，下载了许嵩的歌，上学放学路上经常会听，包括在上晚自习的时候，也会一边听，一边写作业。
在14年的时候，许嵩正式发布的新专辑《不如吃茶去》，当时的我一听到这里面的歌，一下子就爱上了，从此彻底粉上了许嵩。
我觉得有一句话说的特别好: 许嵩想通过专辑传递出“大千世界有很多想不通的事、猜不透的心与看不透的人，倒不如不想、不猜、不看，携寄情山水的快意人生吃茶去”的淡然态度。
当时年纪还小，单纯的听旋律和歌词。现在回过头来，仔细琢磨里面的话，突然感觉有了新的变化。这世界一直处于变化之中，正如罗翔老师讲的，这世界唯一不变的就是变化本身。
社会纷纷扰扰，心里也有很多杂绪，滋生了很多欲望。但是我也很清楚的知道，有些东西和欲望充其量是被社会气氛所带动的，而我自身不需要那些，过好自己的生活，不被外物所扰。“不以物喜，不以己悲。”
不如吃茶去，我也希望我的心境能同这句话一般，沉淀下来，不想那些太多遥远的东西，立足眼下，把握住身边的美好。
七碗受至味，一壶得真趣，空持百千偈，不如吃茶去。 —赵朴初</p></div><footer class=entry-footer><span title='2022-02-24 10:29:00 +0000 UTC'>February 24, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;12 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to “不如吃茶去”" href=https://zburu.vercel.app/posts/104.html/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Nuxt.js如何部署Artalk和遇到的问题</h2></header><div class=entry-content><p>花了两天时间，终于把 Artalk 部署好了，一款数据自托管带后端的评论程序，非常适合我。这篇文章就介绍一下我部署的流程，以及我在部署过程中遇到的一些问题，将它记录一下，以便之后研究，顺便对使用 Nuxt.js 搭建博客的伙伴提供一些参考价值。
Artalk 地址: https://artalk.js.org/
这篇文章我将分为三个部分，后端部署、前端部署、问题研究。
1.后端部署 官方有两个版本，注意分辨，php 和 go，对应的是不同的仓库，目前官方文档写的默认都是 go 语言开发的。
ArtalkGo仓库:https://github.com/ArtalkJS/ArtalkGo
我使用的也是 go 版本，功能和优化都比较好。
docker构建+宝塔 我的服务器是 Ubuntu 20.04，其他版本类似，没有很大不同。
首先，使用ssh连接服务器。
sudo su # 启用sudo模式 cd /www/wwwroot/ # 进入站点目录 mkdir ArtalkGo cd ArtalkGo # 为 ArtalkGo 创建一个目录 curl -L https://raw.githubusercontent.com/ArtalkJS/ArtalkGo/master/artalk-go.example.yml > conf.yml # 下载配置文件模版 到这里之后，官方说的是用 vim conf.yml 进入配置文件，修改参数然后配置。我不是很建议，因为用着并不是那么顺手（因为我菜），我建议直接到达 /www/wwwroot/ArtalkGo 目录下修改 conf.yml 文件，文本模式操作起来更顺手。
里面的配置基本都是站点名称，管理员，邮箱等设置，没什么大问题。除此之外，端口等参数都不用碰，不然会报错。
配置完文件之后直接保存就行了。
在宝塔插件里面下载 Docker管理器，点击镜像管理。
然后在镜像名称输入 artalk/artalk-go 点击获取镜像即可，大概两分钟就下载结束了。
然后回到 ssh 连接，新建 docker 容器。
docker run -d \ --name artalk-go \ -p 0....</p></div><footer class=entry-footer><span title='2022-02-18 13:48:00 +0000 UTC'>February 18, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;269 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Nuxt.js如何部署Artalk和遇到的问题" href=https://zburu.vercel.app/posts/102.html/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Nuxt 项目中如何引入百度统计？</h2></header><div class=entry-content><p>在部署一个网站之后，我们最关心的事情无异于是访问量，以及对它的分析。国内的百度统计是一个不错的选择，基本的功能都是免费的。
只需要在head中引入一串 javascript 代码即可。
&lt;!-- &lt;script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxx"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); &lt;/script> --> 上面是百度提供的统计代码，需要放在 &lt;head>&lt;/head>中。
但是在nuxt中，没有传统的 &lt;head>&lt;/head> 。所以要对他进行一些处理。
1. 首先在根目录下 /plugins 新建一个文件 baidu.js // /plugins/baidu.js export default ({app: {router}, store}) => { /* 每次路由变更时进行pv统计 */ router.afterEach((to, from) => { /* 告诉增加一个PV */ try { window._hmt = window._hmt || [] window._hmt.push(['_trackPageview', to.fullPath]) } catch (e) { } }) } 2....</p></div><footer class=entry-footer><span title='2022-01-17 15:49:00 +0000 UTC'>January 17, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;110 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Nuxt 项目中如何引入百度统计？" href=https://zburu.vercel.app/posts/96.html/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>实现图片灯箱功能</h2></header><div class=entry-content><p>写博客必不可少的一个功能就是图片灯箱功能，也就是点击放大查看。但是不同程序的博客所使用的插件也都不一样，我这里研究出一套可以满足绝大部分程序的灯箱插件。已经测试过hexo, hugo, typecho 均无问题。
引入文件 首先引入我们关键的两个文件分别是 zoom.css 和 zoom.js 。
&lt;!-- head头部 --> &lt;link rel="stylesheet" href="https://cdn.imhan.cn/list/zoom.css"> &lt;!-- body底部 --> &lt;!-- 如果已经有jq文件了，就不要引入jquery --> &lt;script src="https://cdn.imhan.cn/list/jquery3.6.0.js">&lt;/script> &lt;!--图片灯箱--> &lt;img src="" alt="" class="bigimg"> &lt;div class="mask">&lt;/div> &lt;script src="https://cdn.imhan.cn/list/zoom.js">&lt;/script> 因为这个文件是放在我自己服务器上的，所以不敢保证以后还是这个路径，建议在浏览器打开，然后把里面的代码复制到本地使用。
调用js 然后我们需要给图片一个类名，以及一个父元素盒子，同样也可以使用 jq 来完成。
这里的 .post-content 正文的类名，如果你是别的类名，可以直接将 .post-content 替换掉。
$(function(){ $('.post-content img').addClass('smallimg') $('.post-content img').wrap('&lt;div class="imgbox">&lt;/div>') }) 接着我们需要对插件进行初始化，直接在刚才的代码下面写入。
$(function(){ $('.post-content img').addClass('smallimg') $('.post-content img').wrap('&lt;div class="imgbox">&lt;/div>') /* smallimg // 小图 bigimg //点击放大的图片 mask //黑色遮罩 */ var obj = new zoom('mask', 'bigimg', 'smallimg'); obj....</p></div><footer class=entry-footer><span title='2021-12-07 16:55:00 +0000 UTC'>December 7, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;80 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 实现图片灯箱功能" href=https://zburu.vercel.app/posts/88.html/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://zburu.vercel.app/tags/%E5%8D%9A%E5%AE%A2/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://zburu.vercel.app>子舒的博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>